"use strict";(self.webpackChunkChatWithYourDocuments=self.webpackChunkChatWithYourDocuments||[]).push([[822],{822:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ye,metadata:()=>Ze,version:()=>Qe});var r=t(4848),o=t(2769),s=t.n(o),a=t(5072),i=t.n(a),l=t(7825),c=t.n(l),d=t(7659),u=t.n(d),h=t(5056),p=t.n(h),g=t(540),m=t.n(g),f=t(1113),v=t.n(f),x=t(6613),b={};b.styleTagTransform=v(),b.setAttributes=p(),b.insert=u().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=m(),i()(x.A,b),x.A&&x.A.locals&&x.A.locals;var w,y,S,C,j,N=t(8723),k=t(7946),E=t(232),_=t(964),O=t(827),M=t(7504),D="http://127.0.0.1:8000",T="http://127.0.0.1:8005";!function(e){e.COLLECTIONS="collections",e.DOCUMENTS="documents",e.CHAT="chat",e.SETTINGS="settings"}(w||(w={})),function(e){e.USER="user",e.ASSISTANT="assistant",e.SYSTEM="system"}(y||(y={})),function(e){e.UPLOADED="uploaded",e.PROCESSING="processing",e.PROCESSED="processed",e.FAILED="failed"}(S||(S={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ARCHIVED="archived"}(C||(C={})),function(e){e.GRID="grid",e.LIST="list"}(j||(j={}));var L,A=t(7775),I=function(e){var n=e.newMessage,t=e.sending,o=e.onChange,s=e.onMessageSend;return(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:n,onChange:function(e){return o(e.target.value)},placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t,onKeyDown:function(e){"Enter"===e.key&&s()}}),(0,r.jsx)("button",{onClick:s,disabled:t||!n.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:(0,r.jsx)(A.A,{className:"h-4 w-4"})})]})})},P=t(8969),R=t(2391),U=function(){return U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},U.apply(this,arguments)},F=function(e){var n=e.message;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg w-[85%]",children:n.user_message})}),(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg w-[85%] prose mt-1 w-full break-words prose-p:leading-relaxed",children:(0,r.jsx)(R.oz,{remarkPlugins:[P.A],components:{a:function(e){return(0,r.jsx)("a",U({},e,{target:"_blank",rel:"noopener noreferrer"}))}},children:n.assistant_response})})}),n.retrieved_chunks&&n.retrieved_chunks.length>0&&(0,r.jsx)("div",{className:"text-xs text-gray-500 ml-4",children:(0,r.jsxs)("details",{children:[(0,r.jsxs)("summary",{className:"cursor-pointer hover:text-gray-700",children:[n.retrieved_chunks.length," source chunks used"]}),(0,r.jsx)("div",{className:"mt-2 space-y-1",children:n.retrieved_chunks.map(function(e,n){return(0,r.jsx)("div",{className:"bg-gray-50 p-2 rounded text-xs",children:e},n)})})]})})]})},B=(L=function(e,n){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},L(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}L(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),z=function(e){function n(n){var t=e.call(this,n)||this;return t.scrollToBottom=function(){var e=t.scrollContainerRef.current;e&&(e.scrollTop=e.scrollHeight)},t.messagesEndRef=s().createRef(),t.scrollContainerRef=s().createRef(),t}return B(n,e),n.prototype.componentDidMount=function(){this.scrollToBottom()},n.prototype.componentDidUpdate=function(e){e.messages===this.props.messages&&e.sending===this.props.sending||this.scrollToBottom()},n.prototype.render=function(){var e=this.props,n=e.messages,t=e.sending;return(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",ref:this.scrollContainerRef,children:[n.map(function(e){return(0,r.jsx)(F,{message:e},e.id)}),(0,r.jsx)("div",{ref:this.messagesEndRef}),t&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:(0,r.jsx)(N.A,{className:"h-4 w-4 animate-spin"})})})]})},n}(s().Component),V=function(e){var n=e.sessionName,t=e.messagesLenght;return(0,r.jsxs)("div",{className:"p-4 border-b",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:n}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[t," messages"]})]})},G=t(85),q=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),H=function(){return H=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},H.apply(this,arguments)},K=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())})},W=function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},X=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,s=n.length;o<s;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},J=function(e){function n(n){var t=e.call(this,n)||this;return t.abortController=null,t.currentStreamingMessageId=null,t.createOptimisticMessage=function(e,n,r){void 0===r&&(r=!1);var o=(new Date).toISOString();return{id:"".concat(n,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)),session_id:t.props.session.id,created_at:o,user_message:e,assistant_response:"",retrieved_chunks:[],isStreaming:r}},t.handleSendStreamingRequest=function(){return K(t,void 0,void 0,function(){var e,n,t,r,o,s,a,i,l,c,d=this;return W(this,function(u){switch(u.label){case 0:return e=this.state.newMessage,n=this.props,t=n.session,n.setError,(r=n.apiService)&&r.postStreaming?[3,2]:(console.log("falling back to in app streaming request"),[4,this.handleSendStreamingMessage()]);case 1:return u.sent(),[2];case 2:if(!e.trim())return[2];this.stopStreaming(),this.setState({sending:!0}),o=e,this.setState({newMessage:""}),s=this.createOptimisticMessage(o,y.USER,!0),this.currentStreamingMessageId=s.id,this.setState(function(e){return{optimisticMessages:X(X([],e.optimisticMessages,!0),[s],!1)}}),u.label=3;case 3:return u.trys.push([3,5,,6]),this.abortController=new AbortController,a="",i=[],l=function(e){try{var n=JSON.parse(e);if(n.error)throw new Error(n.error);if(n.complete&&n.message_id&&n.created_at)return void d.handleStreamComplete(n.message_id,n.created_at);n.response&&(a+=n.response),n.retrieved_chunks&&Array.isArray(n.retrieved_chunks)&&(i=n.retrieved_chunks),d.updateStreamingMessage(a,i)}catch(e){console.error("Error parsing SSE event data:",e),d.handleStreamError(o,"Error processing streaming response data.")}},[4,r.postStreaming("".concat(D,"/chat/stream"),{session_id:t.id,user_message:o},l)];case 4:return u.sent(),[3,6];case 5:return c=u.sent(),this.handleStreamError(o,c.message||"Failed to start streaming"),[3,6];case 6:return[2]}})})},t.updateStreamingMessage=function(e,n){t.currentStreamingMessageId&&t.setState(function(r){return{optimisticMessages:r.optimisticMessages.map(function(r){return r.id===t.currentStreamingMessageId?H(H({},r),{assistant_response:e,retrieved_chunks:n}):r})}})},t.handleStreamComplete=function(e,n){t.stopStreaming(),t.setState({sending:!1}),t.setState(function(r){return{optimisticMessages:r.optimisticMessages.map(function(r){return r.id===t.currentStreamingMessageId?H(H({},r),{id:e,created_at:n,metadata:void 0}):r})}}),setTimeout(function(){t.syncWithServer()},500)},t.handleStreamError=function(e,n){t.stopStreaming(),t.setState({sending:!1,optimisticMessages:[],newMessage:e}),t.props.setError(n)},t.syncWithServer=function(){t.setState({optimisticMessages:[]}),t.props.onMessageSent()},t.state={newMessage:"",sending:!1,userMessageQueued:null,streamingAssistantMessage:null,optimisticMessages:[]},t.messagesEndRef=s().createRef(),t.stopStreaming=t.stopStreaming.bind(t),t.scrollToBottom=t.scrollToBottom.bind(t),t.createOptimisticMessage=t.createOptimisticMessage.bind(t),t.handleSendMessage=t.handleSendMessage.bind(t),t.handleSendStreamingMessage=t.handleSendStreamingMessage.bind(t),t.handleSendStreamingRequest=t.handleSendStreamingRequest.bind(t),t.updateStreamingMessage=t.updateStreamingMessage.bind(t),t.handleStreamComplete=t.handleStreamComplete.bind(t),t.handleStreamError=t.handleStreamError.bind(t),t.syncWithServer=t.syncWithServer.bind(t),t}return q(n,e),n.prototype.componentWillUnmount=function(){this.stopStreaming()},n.prototype.stopStreaming=function(){this.abortController&&(this.abortController.abort(),this.abortController=null)},n.prototype.componentDidMount=function(){this.scrollToBottom()},n.prototype.componentDidUpdate=function(e,n){e.messages===this.props.messages&&n.streamingAssistantMessage===this.state.streamingAssistantMessage||this.scrollToBottom()},n.prototype.scrollToBottom=function(){var e;null===(e=this.messagesEndRef.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},n.prototype.handleSendMessage=function(){return K(this,void 0,void 0,function(){var e,n,t,r,o,s,a;return W(this,function(i){switch(i.label){case 0:if(e=this.state.newMessage,n=this.props,t=n.session,r=n.onMessageSent,o=n.setError,!e.trim())return[2];this.setState({sending:!0}),s=e,this.setState({newMessage:""}),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,fetch("".concat(D,"/chat/message"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t.id,user_message:s})})];case 2:if(!i.sent().ok)throw new Error("Failed to send message");return r(),[3,5];case 3:return a=i.sent(),o(a.message),this.setState({newMessage:s}),[3,5];case 4:return this.setState({sending:!1}),[7];case 5:return[2]}})})},n.prototype.handleSendStreamingMessage=function(){return K(this,void 0,void 0,function(){var e,n,t,r,o,s,a,i,l,c=this;return W(this,function(d){switch(d.label){case 0:if(console.log("handleSendStreamingMessage triggered"),e=this.state.newMessage,n=this.props,t=n.session,n.onMessageSent,r=n.setError,!e.trim())return console.log("No message to sent"),[2];this.stopStreaming(),this.setState({sending:!0}),o=e,this.setState({newMessage:""}),s=this.createOptimisticMessage(o,y.USER,!0),this.currentStreamingMessageId=s.id,this.setState(function(e){return{optimisticMessages:X(X([],e.optimisticMessages,!0),[s],!1)}}),d.label=1;case 1:return d.trys.push([1,3,,4]),this.abortController=new AbortController,a="",i=[],[4,(0,G.y)("".concat(D,"/chat/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t.id,user_message:o}),signal:this.abortController.signal,onopen:function(e){return K(c,void 0,void 0,function(){var n,t;return W(this,function(r){switch(r.label){case 0:return e.ok&&(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("text/event-stream"))?(console.log("SSE connection opened successfully."),[3,4]):[3,1];case 1:return e.ok?[3,3]:[4,e.text()];case 2:throw n=r.sent(),console.error("SSE connection failed to open:",e.status,e.statusText,n),new Error("Failed to connect to SSE: ".concat(e.status," ").concat(e.statusText," - ").concat(n));case 3:throw console.error("Server did not return text/event-stream content type:",e.headers.get("content-type")),new Error("Server did not return text/event-stream content type. Check backend.");case 4:return[2]}})})},onmessage:function(e){try{var n=JSON.parse(e.data);if(n.error)throw new Error(n.error);if(n.complete&&n.message_id&&n.created_at)return void c.handleStreamComplete(n.message_id,n.created_at);n.response&&(a+=n.response),n.retrieved_chunks&&Array.isArray(n.retrieved_chunks)&&(i=n.retrieved_chunks),c.updateStreamingMessage(a,i)}catch(n){console.error("Error parsing SSE event data or during onmessage processing:",n,"Event data was:",e.data),console.error("Error parsing SSE event data:",n),c.handleStreamError(o,"Error processing streaming response data."),r("Error processing streaming response data.")}},onerror:function(e){console.error("fetchEventSource error:",e),c.handleStreamError(o,"Error processing streaming response data."),"AbortError"===e.name?console.log("Streaming was aborted by user or component unmount."):r(e.message||"Connection error occurred during streaming.")},onclose:function(){console.log("SSE connection closed by server or client.")},openWhenHidden:!0})];case 2:return d.sent(),[3,4];case 3:return l=d.sent(),console.error("Stream setup error:",l),this.handleStreamError(o,l.message||"Failed to start streaming"),"AbortError"===l.name?console.log("Stream was aborted"):r(l.message||"Failed to start streaming"),[3,4];case 4:return[2]}})})},n.prototype.render=function(){var e=this,n=this.props,t=n.session,o=n.messages,s=this.state,a=s.newMessage,i=s.sending,l=(s.userMessageQueued,s.streamingAssistantMessage,s.optimisticMessages),c=X(X([],o,!0),l,!0);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border h-[600px] flex flex-col",children:[(0,r.jsx)(V,{sessionName:t.name,messagesLenght:o.length}),(0,r.jsx)(z,{messages:c,sending:i}),(0,r.jsx)(I,{newMessage:a,onChange:function(n){return e.setState({newMessage:n})},onMessageSend:this.handleSendStreamingMessage,sending:i})]})},n}(s().Component),Y=t(697),Q=t(3242),Z=function(){return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(Q.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create your first collection to get started"})]})},$=t(7677),ee=function(){return ee=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ee.apply(this,arguments)},ne=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())})},te=function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},re=function(){function e(){}return e.initLoadingOverlay=function(){if(!document.getElementById("loading-overlay")){var e=document.createElement("div");e.id="loading-overlay",e.className="\n      fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden\n      backdrop-blur-sm\n    ".replace(/\s+/g," ").trim(),e.innerHTML='\n      <div class="bg-white rounded-lg p-6 flex items-center space-x-4 shadow-xl">\n        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>\n        <span class="text-gray-700 font-medium">Loading...</span>\n      </div>\n    ',document.body.appendChild(e),this.loadingOverlay=e}},e.showLoading=function(e){void 0===e&&(e="Loading..."),this.loadingOverlay||this.initLoadingOverlay();var n=this.loadingOverlay.querySelector("span");n&&(n.textContent=e),this.loadingOverlay.classList.remove("hidden")},e.hideLoading=function(){this.loadingOverlay&&this.loadingOverlay.classList.add("hidden")},e.initToastContainer=function(){if(!document.getElementById("toast-container")){var e=document.createElement("div");e.id="toast-container",e.className="fixed bottom-8 right-4 z-100 space-y-2 pointer-events-none",document.body.appendChild(e),this.toastContainer=e}},e.showToast=function(e,n,t){var r=this;void 0===n&&(n="info"),void 0===t&&(t=1e4),this.toastContainer||this.initToastContainer();var o=this.toastContainer,s="toast-".concat(++this.toastCounter),a=document.createElement("div");a.id=s,a.className="\n      ".concat({success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[n]," text-white px-4 py-3 rounded-lg shadow-lg\n      transform transition-all duration-300 translate-x-full opacity-0\n      pointer-events-auto cursor-pointer flex items-center space-x-2\n      max-w-sm\n    ").replace(/\s+/g," ").trim(),a.innerHTML='\n      <span class="text-sm font-medium">'.concat({success:"✓",error:"✕",warning:"⚠",info:"ℹ"}[n],'</span>\n      <span class="text-sm flex-1">').concat(this.escapeHtml(e),'</span>\n      <button class="ml-2 text-white hover:text-gray-200 text-lg leading-none" onclick="this.parentElement.remove()">&times;</button>\n    '),a.addEventListener("click",function(e){"BUTTON"!==e.target.tagName&&r.removeToast(a)}),o.appendChild(a),requestAnimationFrame(function(){a.classList.remove("translate-x-full","opacity-0")}),t>0&&setTimeout(function(){return r.removeToast(a)},t)},e.removeToast=function(e){e.classList.add("translate-x-full","opacity-0"),setTimeout(function(){e.parentElement&&e.parentElement.removeChild(e)},300)},e.clearAllToasts=function(){this.toastContainer&&(this.toastContainer.innerHTML="")},e.escapeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},e.validateFile=function(e,n){void 0===n&&(n={});var t=n.maxSizeBytes,r=void 0===t?10485760:t,o=n.allowedTypes,s=void 0===o?["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]:o,a=n.allowedExtensions,i=void 0===a?[".pdf",".doc",".docx"]:a;if(e.size>r)return{isValid:!1,error:'File "'.concat(e.name,'" is too large (max ').concat(this.formatFileSize(r),")")};if(s.length>0&&!s.includes(e.type))return{isValid:!1,error:'File "'.concat(e.name,'" has an unsupported type. Allowed types: ').concat(s.join(", "))};if(i.length>0){var l=this.getFileExtension(e.name);if(!i.some(function(e){return e.toLowerCase()===l.toLowerCase()}))return{isValid:!1,error:'File "'.concat(e.name,'" has an unsupported extension. Allowed extensions: ').concat(i.join(", "))}}return{isValid:!0,file:e}},e.getFileExtension=function(e){return e.substring(e.lastIndexOf("."))},e.formatFileSize=function(e){if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(1))+" "+["Bytes","KB","MB","GB"][n]},e.debounce=function(e,n){var t;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){return e.apply(void 0,r)},n)}},e.throttle=function(e,n){var t;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t||(e.apply(void 0,r),t=!0,setTimeout(function(){return t=!1},n))}},e.generateId=function(e){return void 0===e&&(e="id"),"".concat(e,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))},e.copyToClipboard=function(e){return ne(this,void 0,void 0,function(){var n,t,r;return te(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),navigator.clipboard&&window.isSecureContext?[4,navigator.clipboard.writeText(e)]:[3,2];case 1:return o.sent(),[2,!0];case 2:return(n=document.createElement("textarea")).value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select(),t=document.execCommand("copy"),document.body.removeChild(n),[2,t];case 3:return[3,5];case 4:return r=o.sent(),console.error("Failed to copy text: ",r),[2,!1];case 5:return[2]}})})},e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.scrollToElement=function(e,n){void 0===n&&(n={}),e.scrollIntoView(ee({behavior:"smooth",block:"center",inline:"nearest"},n))},e.formatDate=function(e,n){return void 0===n&&(n={}),("string"==typeof e?new Date(e):e).toLocaleDateString(void 0,ee({year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},n))},e.formatRelativeTime=function(e){var n="string"==typeof e?new Date(e):e,t=new Date,r=Math.floor((t.getTime()-n.getTime())/1e3);return r<60?"just now":r<3600?"".concat(Math.floor(r/60)," minutes ago"):r<86400?"".concat(Math.floor(r/3600)," hours ago"):r<2592e3?"".concat(Math.floor(r/86400)," days ago"):this.formatDate(n)},e.truncateText=function(e,n,t){return void 0===t&&(t="..."),e.length<=n?e:e.substring(0,n-t.length)+t},e.sleep=function(e){return new Promise(function(n){return setTimeout(n,e)})},e.pollDocumentStatus=function(e,n,t){var r=this;void 0===t&&(t={});var o=t.apiBase,s=void 0===o?"/api":o,a=t.pollInterval,i=void 0===a?2e3:a,l=t.maxAttempts,c=void 0===l?60:l,d=t.onComplete,u=t.onError;this.stopPollingDocument(e);var h=0,p=setInterval(function(){return ne(r,void 0,void 0,function(){var t,r,o;return te(this,function(a){switch(a.label){case 0:h++,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch("".concat(s,"/documents/").concat(e))];case 2:return(t=a.sent()).ok?[4,t.json()]:(console.warn("Polling document ".concat(e," failed: ").concat(t.status)),404===t.status?(this.stopPollingDocument(e),null==u||u("Document not found"),[2]):[2]);case 3:return r=a.sent(),n(r),"processing"!==r.status&&"uploaded"!==r.status?(this.stopPollingDocument(e),"processed"===r.status?this.showToast('Document "'.concat(r.original_filename,'" processed and ready.'),"success"):"failed"===r.status&&this.showToast('Document "'.concat(r.original_filename,'" processing failed.'),"error"),null==d||d(r),[2]):[3,5];case 4:return o=a.sent(),console.error("Error polling document status: ".concat(o)),h>=5?(this.stopPollingDocument(e),null==u||u("Failed to poll document status: ".concat(o)),[2]):[3,5];case 5:return h>=c&&(this.stopPollingDocument(e),console.warn("Stopped polling status for document ".concat(e," after ").concat(h," attempts.")),null==u||u("Polling timeout - document may still be processing")),[2]}})})},i);this.activePollingIntervals.set(e,p)},e.stopPollingDocument=function(e){var n=this.activePollingIntervals.get(e);n&&(clearInterval(n),this.activePollingIntervals.delete(e))},e.stopAllPolling=function(){this.activePollingIntervals.forEach(function(e){clearInterval(e)}),this.activePollingIntervals.clear()},e.createPlaceholderDocument=function(e,n){var t;return{id:"temp-"+Math.random().toString(36).substring(2,9),filename:"",original_filename:e.name,file_path:"",file_size:e.size,document_type:(null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase())||"unknown",collection_id:n,status:"processing",created_at:(new Date).toISOString(),processed_at:null,metadata:{},chunk_count:0,isPlaceholder:!0}},e.toastContainer=null,e.toastCounter=0,e.loadingOverlay=null,e.activePollingIntervals=new Map,e}();"undefined"!=typeof window&&(window.utils=re,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){return re.initToastContainer()}):re.initToastContainer());var oe=function(e){var n=e.collections,t=e.onCollectionSelect,o=e.viewMode,s=e.maxHeight,a=void 0===s?"max-h-96":s;return o===j.GRID?(0,r.jsx)("div",{className:"h-full ".concat(a," overflow-y-auto overflow-x-hidden"),children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-1",children:n.map(function(e){return function(e){var n={backgroundColor:e.color};return(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:function(){return t(e)},children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full mr-3",style:n,"aria-label":"Collection color indicator"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:e.description||"No description"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:[e.document_count||0," documents"]}),(0,r.jsx)("span",{children:re.formatDate(e.created_at)})]})]})},e.id)}(e)})})}):(0,r.jsx)("div",{className:"h-full ".concat(a," overflow-y-auto"),children:(0,r.jsx)("ul",{id:"collections-list",className:"divide-y divide-gray-200",children:n.map(function(e){return function(e){var n={backgroundColor:e.color};return(0,r.jsx)("li",{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:function(){return t(e)},children:(0,r.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full mr-3",style:n,"aria-label":"Collection color indicator"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description||"No description"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:re.formatDate(e.created_at)}),(0,r.jsx)($.A,{className:"h-4 w-4 text-gray-400"})]})]})},e.id)}(e)})})})},se=t(3128),ae=t(6108),ie=function(e){var n=e.currentViewMode,t=e.onViewModeChange;return(0,r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,r.jsx)("button",{onClick:function(){return t(j.LIST)},className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(n===j.LIST?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),"aria-label":"List view",children:(0,r.jsx)(se.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:function(){return t(j.GRID)},className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(n===j.GRID?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),"aria-label":"Grid view",children:(0,r.jsx)(ae.A,{className:"h-4 w-4"})})]})},le=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),ce=function(){return ce=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ce.apply(this,arguments)},de=function(e){function n(n){var t=e.call(this,n)||this;return t.state={showCreateForm:!1,newCollection:{name:"",description:"",color:"#3B82F6"},currentViewMode:j.LIST},t.handleCreateCollection=t.handleCreateCollection.bind(t),t.handleNameChange=t.handleNameChange.bind(t),t.handleDescriptionChange=t.handleDescriptionChange.bind(t),t.handleColorChange=t.handleColorChange.bind(t),t.handleShowCreateForm=t.handleShowCreateForm.bind(t),t.handleCancelCreateForm=t.handleCancelCreateForm.bind(t),t.handleViewModeChange=t.handleViewModeChange.bind(t),t}return le(n,e),n.prototype.handleCreateCollection=function(){return e=this,n=void 0,r=function(){var e,n,t,r;return function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),e=this.state.newCollection,[4,fetch("".concat(D,"/collections/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return(n=o.sent()).ok?[3,3]:[4,n.json()];case 2:throw t=o.sent(),new Error(t.message||"Failed to create collection");case 3:return this.setState({newCollection:{name:"",description:"",color:"#3B82F6"},showCreateForm:!1}),this.props.onCollectionCreate(),[3,5];case 4:return r=o.sent(),this.props.setError(r.message),[3,5];case 5:return[2]}})},new((t=void 0)||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())});var e,n,t,r},n.prototype.handleNameChange=function(e){this.setState(function(n){return{newCollection:ce(ce({},n.newCollection),{name:e.target.value})}})},n.prototype.handleDescriptionChange=function(e){this.setState(function(n){return{newCollection:ce(ce({},n.newCollection),{description:e.target.value})}})},n.prototype.handleColorChange=function(e){this.setState(function(n){return{newCollection:ce(ce({},n.newCollection),{color:e.target.value})}})},n.prototype.handleShowCreateForm=function(){this.setState({showCreateForm:!0})},n.prototype.handleCancelCreateForm=function(){this.setState({showCreateForm:!1})},n.prototype.handleViewModeChange=function(e){this.setState({currentViewMode:e})},n.prototype.render=function(){var e,n,t=this.props,o=t.collections,s=t.onCollectionSelect,a=this.state,i=a.showCreateForm,l=a.newCollection,c=a.currentViewMode;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"px-4 sm:px-6",children:[(0,r.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Your Collections"}),(0,r.jsx)("p",{className:"max-w-2xl text-sm text-gray-500",children:"Organize your documents into collections for better management"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(ie,{currentViewMode:c,onViewModeChange:this.handleViewModeChange}),(0,r.jsxs)("button",{onClick:this.handleShowCreateForm,className:"bg-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center text-sm",children:[(0,r.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),"New Collection"]})]})]}),i&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Create New Collection"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:l.name,onChange:this.handleNameChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter collection name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,r.jsx)("textarea",{value:l.description,onChange:this.handleDescriptionChange,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter collection description"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,r.jsx)("input",{type:"color",value:l.color,onChange:this.handleColorChange,className:"w-20 h-10 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:this.handleCreateCollection,disabled:!(null===(e=l.name)||void 0===e?void 0:e.trim())||!(null===(n=l.description)||void 0===n?void 0:n.trim()),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Create Collection"}),(0,r.jsx)("button",{onClick:this.handleCancelCreateForm,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),0===o.length?(0,r.jsx)(Z,{}):(0,r.jsx)(oe,{collections:o,onCollectionSelect:s,viewMode:c})]})},n}(s().Component),ue=t(8697),he=t(4796),pe=function(){return(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(M.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No chat sessions"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Create a session to start chatting"})]})},ge=t(2708),me=function(e){var n=e.chatSession,t=e.onChatSessionSelect,o=e.onChatSessionDelete;return(0,r.jsx)("div",{className:"chat-session-item group p-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors border-transparent",onClick:function(){return t(n)},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",title:n.name,children:n.name}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-1",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:re.formatDate(n.updated_at)})})]}),(0,r.jsxs)("div",{className:"ml-2 flex flex-col items-center",children:[(n.message_count||0)>0?(0,r.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:n.message_count}):null,(0,r.jsx)("button",{onClick:function(e){e.stopPropagation(),o(n.id,n.name)},className:"delete-session-btn mt-1 p-1 text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Delete ".concat(n.name),children:(0,r.jsx)(ge.A,{className:"h-4 w-4"})})]})]})})},fe=function(e){var n=e.chatSessions,t=e.onChatSessionSelect,o=e.onChatSessionDelete,s=e.maxHeight,a=void 0===s?"max-h-96":s;return(0,r.jsx)("div",{className:"overflow-y-auto ".concat(a),children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:n.map(function(e){return(0,r.jsxs)("li",{children:[(0,r.jsx)(me,{chatSession:e,onChatSessionSelect:t,onChatSessionDelete:o}),(0,r.jsxs)("div",{className:"p-3 hover:bg-gray-50 cursor-pointer hidden",onClick:function(){return t(e)},children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.message_count," messages • ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id)})})})},ve=function(e){var n=e.chatSessions,t=e.onChatSessionSelect,o=e.onChatSessionDelete;return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:0===n.length?(0,r.jsx)(pe,{}):(0,r.jsx)(fe,{chatSessions:n,onChatSessionSelect:t,onChatSessionDelete:o})})},xe=t(4471),be=t(7235),we=t(8309),ye=function(e){var n=e.document,t=e.onDocumentDelete,o=(function(e){switch(e){case S.PROCESSED:return"bg-green-100 text-green-800";case S.PROCESSING:return"bg-yellow-100 text-yellow-800";case S.FAILED:;}}(n.status),function(e){switch(e.toLowerCase()){case"pdf":case"doc":case"docx":case"txt":return"file-text";default:return"file"}}(n.document_type)),s=function(e){if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]}(n.file_size),a=n.processed_at?re.formatDate(n.processed_at):"Processing...";return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("i",{"data-lucide":o,className:"h-8 w-8 text-gray-400"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-900 truncate",children:n.original_filename}),(0,r.jsxs)("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("span",{children:n.document_type.toUpperCase()}),n.chunk_count&&(0,r.jsxs)("span",{children:[n.chunk_count," chunks"]})]}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Uploaded: ",re.formatDate(n.created_at)]}),n.processed_at&&(0,r.jsxs)("span",{className:"ml-4",children:["Processed: ",a]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["processing"===n.status||"uploaded"===n.status?(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-0.5 mr-1 h-4 w-4 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"processing"]}):"processed"===n.status?(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"processed"}):"failed"===n.status?(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"failed"}):(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n.status}),(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",title:"Download ".concat(n.original_filename),children:(0,r.jsx)(we.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:function(){return t(n.id,n.original_filename)},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete ".concat(n.original_filename),children:(0,r.jsx)(ge.A,{className:"h-4 w-4"})})]})]})]}),(0,r.jsx)("div",{className:"p-4 hover:bg-gray-50 hidden",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[function(e){switch(e){case S.PROCESSED:return(0,r.jsx)(xe.A,{className:"h-5 w-5 text-green-500"});case S.PROCESSING:return(0,r.jsx)(N.A,{className:"h-5 w-5 text-blue-500 animate-spin"});case S.FAILED:return(0,r.jsx)(k.A,{className:"h-5 w-5 text-red-500"});default:return(0,r.jsx)(be.A,{className:"h-5 w-5 text-gray-500"})}}(n.status),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:n.original_filename}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[n.document_type," • ",(n.file_size/1024).toFixed(1)," KB",n.chunk_count>0&&" • ".concat(n.chunk_count," chunks")]})]})]}),(0,r.jsx)("button",{onClick:function(){return t(n.id,n.original_filename)},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete ".concat(n.original_filename),children:(0,r.jsx)(ge.A,{className:"h-4 w-4"})})]})})]})},Se=function(){return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(O.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Upload your first document to get started"})]})},Ce=function(e){var n=e.documents,t=e.onDocumentDelete,o=e.maxHeight,s=void 0===o?"max-h-96":o;return(0,r.jsx)("div",{className:"bg-white rounded-lg",children:0===n.length?(0,r.jsx)(Se,{}):(0,r.jsx)("div",{className:"h-full ".concat(s," space-y-3 overflow-y-auto"),children:n.map(function(e){return(0,r.jsx)(ye,{document:e,onDocumentDelete:t},e.id)})})})},je=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ne=function(){return Ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Ne.apply(this,arguments)},ke=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())})},Ee=function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},_e=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,s=n.length;o<s;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},Oe=function(e){function n(n){var t=e.call(this,n)||this;return t.toggleModal=function(){t.setState(function(e){return{showModal:!e.showModal}})},t.state={uploading:!1,showSessionForm:!1,newSessionName:"",documents:_e([],n.documents||[],!0),showModal:!1,selectedSession:n.selectedSession||null,chatMessages:[],error:null},t.fileInputRef=s().createRef(),t.handleFileUpload=t.handleFileUpload.bind(t),t.handleDocumentDelete=t.handleDocumentDelete.bind(t),t.handleCreateSession=t.handleCreateSession.bind(t),t.handleSelectedChatSession=t.handleSelectedChatSession.bind(t),t.handleDeleteSession=t.handleDeleteSession.bind(t),t}return je(n,e),n.prototype.componentDidMount=function(){var e=this.props.chatSessions;if(e.length){var n=e[0];this.handleSelectedChatSession(n)}},n.prototype.componentDidUpdate=function(e,n){var t,r,o=this;if(e.documents!==this.props.documents&&this.setState(function(e){return{documents:_e(_e([],e.documents.filter(function(e){return e.isPlaceholder}),!0),o.props.documents||[],!0)}}),e.chatSessions!==this.props.chatSessions){var s=this.state.selectedSession,a=this.props.chatSessions;!s&&a.length&&this.handleSelectedChatSession(a[0])}e.selectedSession!==this.props.selectedSession&&(console.log("New session: ",{prev_session:null===(t=e.selectedSession)||void 0===t?void 0:t.name,new_session:null===(r=this.props.selectedSession)||void 0===r?void 0:r.name}),this.props.selectedSession&&this.handleSelectedChatSession(this.props.selectedSession))},n.prototype.componentWillUnmount=function(){re.stopAllPolling()},n.prototype.handleSelectedChatSession=function(e){var n=this;e&&this.setState({selectedSession:e},function(){return n.loadChatMessages(e.id)})},n.prototype.loadChatMessages=function(e){return ke(this,void 0,void 0,function(){var n,t,r;return Ee(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("".concat(D,"/chat/messages?session_id=").concat(e))];case 1:if(!(n=o.sent()).ok)throw new Error("Failed to load messages");return[4,n.json()];case 2:return t=o.sent(),this.setState({chatMessages:t}),[3,4];case 3:return r=o.sent(),this.setState({error:r.message}),[3,4];case 4:return[2]}})})},n.prototype.handleFileUpload=function(e){return ke(this,void 0,void 0,function(){var n,t,r,o,s,a,i,l,c,d=this;return Ee(this,function(u){switch(u.label){case 0:if(!(n=null===(c=e.target.files)||void 0===c?void 0:c[0]))return[2];if(!(t=re.validateFile(n,{maxSizeBytes:10485760,allowedExtensions:[".pdf",".doc",".docx"],allowedTypes:["application/pdf","application/msword"]})).isValid)return re.showToast(t.error,"error"),e.target.value="",[2];r=re.createPlaceholderDocument(n,this.props.collection.id),this.setState(function(e){return{documents:_e([r],e.documents,!0)}}),this.setState({uploading:!0}),(o=new FormData).append("file",n),o.append("collection_id",this.props.collection.id),u.label=1;case 1:return u.trys.push([1,4,5,6]),re.showLoading(),[4,fetch("".concat(D,"/documents/"),{method:"POST",body:o})];case 2:if(!(s=u.sent()).ok)throw new Error("Failed to upload document: ".concat(s.statusText));return[4,s.json()];case 3:return a=u.sent(),re.showToast('Successfully uploaded "'.concat(n.name,'"'),"success"),this.setState(function(e){return{documents:e.documents.map(function(e){return e.id===r.id?Ne(Ne({},a),{isPlaceholder:!1}):e})}}),re.pollDocumentStatus(a.id,function(e){d.setState(function(n){return{documents:n.documents.map(function(n){return n.id===a.id?Ne(Ne({},e),{isPlaceholder:!1}):n})}}),console.log("Updated doc: ",e),console.log("State documents: ",d.state.documents)},{apiBase:D,onComplete:function(e){d.setState({uploading:!1}),d.props.onDocumentUpload()},onError:function(e){re.showToast("Error polling document status: ".concat(e),"error"),d.setState(function(e){return{documents:e.documents.filter(function(e){return e.id!==a.id})}})}}),[3,6];case 4:return i=u.sent(),l=i.message||"Failed to upload document",re.showToast(l,"error"),this.props.setError(l),this.setState(function(e){return{documents:e.documents.filter(function(e){return e.id!==r.id})}}),[3,6];case 5:return re.hideLoading(),e.target.value="",[7];case 6:return[2]}})})},n.prototype.handleDocumentDelete=function(e,n){return ke(this,void 0,void 0,function(){var t,r,o;return Ee(this,function(s){switch(s.label){case 0:if(!confirm('Are you sure you want to delete "'.concat(n,'"?')))return[2];re.showLoading('Deleting "'.concat(n,'"...')),s.label=1;case 1:return s.trys.push([1,3,4,5]),re.stopPollingDocument(e),[4,fetch("".concat(D,"/documents/").concat(e),{method:"DELETE"})];case 2:if(!(t=s.sent()).ok)throw new Error("Failed to delete document: ".concat(t.statusText));return re.showToast('Successfully deleted "'.concat(n,'"'),"success"),this.setState(function(n){return{documents:n.documents.filter(function(n){return n.id!==e})}}),this.props.onDocumentDelete(),[3,5];case 3:return r=s.sent(),o=r.message||"Failed to delete document",re.showToast(o,"error"),this.props.setError(o),[3,5];case 4:return re.hideLoading(),[7];case 5:return[2]}})})},n.prototype.handleCreateSession=function(){return ke(this,void 0,void 0,function(){var e,n,t,r,o;return Ee(this,function(s){switch(s.label){case 0:if(e=this.state.newSessionName,!(n=e.trim()))return re.showToast("Please enter a session name","warning"),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch("".concat(D,"/chat/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,collection_id:this.props.collection.id})})];case 2:if(!(t=s.sent()).ok)throw new Error("Failed to create chat session: ".concat(t.statusText));return re.showToast('Created session "'.concat(n,'"'),"success"),this.setState({newSessionName:"",showSessionForm:!1}),this.props.onChatSessionCreate(),[3,4];case 3:return r=s.sent(),o=r.message||"Failed to create chat session",re.showToast(o,"error"),this.props.setError(o),[3,4];case 4:return[2]}})})},n.prototype.handleDeleteSession=function(e,n){return ke(this,void 0,void 0,function(){var t,r,o,s,a,i,l,c,d,u,h=this;return Ee(this,function(p){switch(p.label){case 0:if(!confirm('Are you sure you want to delete the chat session "'.concat(n,'"? This action will permanently delete all messages in this session.')))return[2];re.showLoading('Deleting "'.concat(n,'"...')),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,fetch("".concat(D,"/chat/sessions/").concat(e),{method:"DELETE"})];case 2:if(!(t=p.sent()).ok)throw new Error("Failed to delete document: ".concat(t.statusText));return re.showToast('Successfully deleted "'.concat(n,'"'),"success"),r=this.state,o=r.selectedSession,r.chatMessages,s=this.props,a=s.onChatSessionDelete,i=s.chatSessions,o&&o.id===e&&(l=i.findIndex(function(n){return n.id===e}),null,c=i[l+1]?i[l+1]:i[l-1]?i[l-1]:null,this.setState({selectedSession:c},function(){h.state.selectedSession?h.loadChatMessages(h.state.selectedSession.id):h.setState({chatMessages:[]})})),a(),[3,5];case 3:return d=p.sent(),u=d.message||"Failed to delete document",re.showToast(u,"error"),this.props.setError(u),[3,5];case 4:return re.hideLoading(),[7];case 5:return[2]}})})},n.prototype.render=function(){var e=this,n=this.state,t=n.documents,o=n.uploading,s=(n.showSessionForm,n.newSessionName,n.showModal),a=n.selectedSession,i=n.chatMessages,l=this.props,c=l.chatSessions,d=l.apiService;return(0,r.jsx)("div",{className:"h-[700px] overflow-y-auto",children:(0,r.jsxs)("div",{className:"space-y-6 mb-8",children:[a&&(0,r.jsx)(J,{apiService:d,session:a,messages:i,onMessageSent:function(){return e.loadChatMessages(a.id)},setError:function(n){return e.setState({error:n})}}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex space-x-2 items-center mb-6",children:(0,r.jsxs)("button",{onClick:this.toggleModal,className:"bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg shadow-sm flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Project files"}),(0,r.jsx)("span",{className:"bg-blue-500 text-white rounded-full px-2 text-sm",children:t.length})]})}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,r.jsx)(ve,{chatSessions:c,onChatSessionSelect:this.handleSelectedChatSession,onChatSessionDelete:this.handleDeleteSession})})]}),s&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full mx-4 relative z-50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center border-b px-6 py-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Project Files"}),(0,r.jsx)("button",{onClick:this.toggleModal,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(ue.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h4",{className:"text-md font-medium",children:"Documents"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",ref:this.fileInputRef,onChange:function(n){return e.handleFileUpload(n)},accept:".pdf,.doc,.docx",className:"hidden"}),(0,r.jsxs)("button",{onClick:function(){var n;return null===(n=e.fileInputRef.current)||void 0===n?void 0:n.click()},disabled:o,className:"bg-blue-500 hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center text-sm disabled:opacity-50",children:[o?(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(he.A,{className:"h-4 w-4 mr-2"}),o?"Uploading…":"Upload Document"]})]})]}),(0,r.jsx)(Ce,{documents:t,onDocumentDelete:function(n,t){return e.handleDocumentDelete(n,t)}})]})]})})]})})},n}(s().Component),Me=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),De=function(e){function n(n){var t=e.call(this,n)||this;return t.state={showDialog:!1,sessionName:"",isCreating:!1},t.buttonRef=s().createRef(),t.popupRef=s().createRef(),t.handleCreateSession=t.handleCreateSession.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.openDialog=t.openDialog.bind(t),t.closeDialog=t.closeDialog.bind(t),t.handleInputChange=t.handleInputChange.bind(t),t.handleClickOutside=t.handleClickOutside.bind(t),t}return Me(n,e),n.prototype.handleCreateSession=function(){return e=this,n=void 0,r=function(){var e,n,t,r,o,s,a,i,l,c;return function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,function(d){switch(d.label){case 0:if(e=this.state.sessionName,n=this.props,t=n.collectionId,r=n.onSessionCreated,o=n.onError,!(s=e.trim()))return re.showToast("Please enter a session name","warning"),[2];this.setState({isCreating:!0}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,fetch("".concat(D,"/chat/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,collection_id:t})})];case 2:if(!(a=d.sent()).ok)throw new Error("Failed to create chat session: ".concat(a.statusText));return[4,a.json()];case 3:return i=d.sent(),console.log("New Session: ",i),re.showToast('Created session "'.concat(s,'"'),"success"),this.setState({sessionName:"",showDialog:!1,isCreating:!1}),r(i),[3,5];case 4:return l=d.sent(),c=l.message||"Failed to create chat session",re.showToast(c,"error"),o(c),this.setState({isCreating:!1}),[3,5];case 5:return[2]}})},new((t=void 0)||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())});var e,n,t,r},n.prototype.handleKeyDown=function(e){"Enter"!==e.key||this.state.isCreating?"Escape"===e.key&&this.closeDialog():this.handleCreateSession()},n.prototype.handleInputChange=function(e){this.setState({sessionName:e.target.value})},n.prototype.openDialog=function(){this.setState({showDialog:!0})},n.prototype.closeDialog=function(){this.setState({showDialog:!1,sessionName:"",isCreating:!1})},n.prototype.handleClickOutside=function(e){this.popupRef.current&&this.buttonRef.current&&!this.popupRef.current.contains(e.target)&&!this.buttonRef.current.contains(e.target)&&this.closeDialog()},n.prototype.render=function(){var e=this.state,n=e.showDialog,t=e.sessionName,o=e.isCreating,s=this.props,a=s.buttonText,i=void 0===a?"New Session":a,l=s.placeholder,c=void 0===l?"Session name":l;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{ref:this.buttonRef,onClick:this.openDialog,className:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-4 py-2 rounded-lg font-medium transition-colors flex items-center",disabled:o,children:[(0,r.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),i]}),n&&(0,r.jsxs)("div",{ref:this.popupRef,className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-80 z-50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Create New Session"}),(0,r.jsx)("button",{onClick:this.closeDialog,disabled:o,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:(0,r.jsx)(ue.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("input",{type:"text",value:t,onChange:this.handleInputChange,placeholder:c,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 text-sm",onKeyDown:this.handleKeyDown,autoFocus:!0}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:this.handleCreateSession,disabled:!t.trim()||o,className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:o?"Creating...":"Create"}),(0,r.jsx)("button",{onClick:this.closeDialog,disabled:o,className:"flex-1 bg-gray-200 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 text-sm",children:"Cancel"})]})]}),(0,r.jsx)("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white border-l border-t border-gray-200 transform rotate-45"})]})]})},n}(o.Component),Te=t(3540),Le=t(3160),Ae=t(7213),Ie=t(8852),Pe=t(180),Re=t(9492),Ue=function(e){var n=e.onClick,t=e.text,o=e.icon,s=e.isProcessing,a=void 0!==s&&s,i=e.disabled,l=void 0!==i&&i,c=e.processingText,d=l||a;return(0,r.jsxs)("button",{onClick:n,disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm transition-all duration-200\n                ".concat(d?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer","\n            "),children:[a&&(0,r.jsx)(N.A,{className:"w-4 h-4 mr-2 animate-spin"}),o,(0,r.jsx)("span",{className:"ml-1",children:a&&c?c:t})]})},Fe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Be=function(){return Be=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Be.apply(this,arguments)},ze=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())})},Ve=function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ge={LLM_PROVIDER:{label:"LLM Provider",description:"Choose your Large Language Model provider",type:"select",options:["ollama"],section:"providers",required:!0,placeholder:"Select LLM provider..."},EMBEDDING_PROVIDER:{label:"Embedding Provider",description:"Choose your embedding model provider",type:"select",options:["ollama"],section:"providers",required:!0,placeholder:"Select embedding provider..."},ENABLE_CONTEXTUAL_RETRIEVAL:{label:"Enable Contextual Retrieval",description:"Uses a separate smaller LLM to generate chunk context for better retrieval",type:"checkbox",section:"retrieval"},OLLAMA_LLM_BASE_URL:{label:"Ollama LLM Base URL",description:"Base URL for your Ollama server (e.g., http://localhost:11434)",type:"url",section:"ollama",placeholder:"http://localhost:11434",dependsOn:{field:"LLM_PROVIDER",value:"ollama"}},OLLAMA_LLM_MODEL:{label:"Ollama LLM Model",description:"The Ollama model to use for chat (e.g., qwen3:8b)",type:"text",section:"ollama",placeholder:"qwen3:8b",dependsOn:{field:"LLM_PROVIDER",value:"ollama"}},OLLAMA_EMBEDDING_BASE_URL:{label:"Ollama Embedding Base URL",description:"Base URL for Ollama embedding service",type:"url",section:"ollama",placeholder:"http://localhost:11434",dependsOn:{field:"EMBEDDING_PROVIDER",value:"ollama"}},OLLAMA_EMBEDDING_MODEL:{label:"Ollama Embedding Model",description:"The Ollama model to use for embeddings (e.g., mxbai-embed-large)",type:"text",section:"ollama",placeholder:"mxbai-embed-large",dependsOn:{field:"EMBEDDING_PROVIDER",value:"ollama"}},OLLAMA_CONTEXTUAL_LLM_BASE_URL:{label:"Contextual LLM Base URL",description:"Base URL for contextual retrieval Ollama service",type:"url",section:"contextual",placeholder:"http://localhost:11434",dependsOn:{field:"ENABLE_CONTEXTUAL_RETRIEVAL",value:!0}},OLLAMA_CONTEXTUAL_LLM_MODEL:{label:"Contextual LLM Model",description:"Smaller model for generating context (e.g., llama3.2:3b)",type:"text",section:"contextual",placeholder:"llama3.2:3b",dependsOn:{field:"ENABLE_CONTEXTUAL_RETRIEVAL",value:!0}},DOCUMENT_PROCESSOR_API_URL:{label:"Document Processor API URL",description:"URL for the Document Processor microservice",type:"url",section:"processor",placeholder:"http://localhost:8080/documents/",required:!0},DOCUMENT_PROCESSOR_API_KEY:{label:"Document Processor API Key",description:"API key for document processor authentication",type:"password",section:"processor",placeholder:"Enter API key...",required:!0},DOCUMENT_PROCESSOR_TIMEOUT:{label:"Timeout (seconds)",description:"Timeout in seconds for document processing",type:"number",section:"processor",min:30,max:1800,placeholder:"300"},DOCUMENT_PROCESSOR_MAX_RETRIES:{label:"Max Retries",description:"Maximum number of retry attempts for failed requests",type:"number",section:"processor",min:1,max:10,placeholder:"3"}},qe={providers:{title:"Provider Settings",icon:"🤖"},retrieval:{title:"Contextual Retrieval",icon:"🧠"},ollama:{title:"Ollama Configuration",icon:"🦙"},contextual:{title:"Contextual LLM Settings",icon:"🔍"},processor:{title:"Document Processor",icon:"📄"}},He={DEFINITION_ID:"chat_with_document_processor_settings",NAME:"Chat with Document Processor Settings",PLUGIN_SLUG:"ChatWithYourDocuments",DEFAULT_VALUE:{LLM_PROVIDER:"ollama",EMBEDDING_PROVIDER:"ollama",ENABLE_CONTEXTUAL_RETRIEVAL:!0,OLLAMA_CONTEXTUAL_LLM_BASE_URL:"http://localhost:11434",OLLAMA_CONTEXTUAL_LLM_MODEL:"llama3.2:3b",OLLAMA_LLM_BASE_URL:"http://localhost:11434",OLLAMA_LLM_MODEL:"qwen3:8b",OLLAMA_EMBEDDING_BASE_URL:"http://localhost:11434",OLLAMA_EMBEDDING_MODEL:"mxbai-embed-large",DOCUMENT_PROCESSOR_API_URL:"http://localhost:8080/documents/",DOCUMENT_PROCESSOR_API_KEY:"default_api_key",DOCUMENT_PROCESSOR_TIMEOUT:300,DOCUMENT_PROCESSOR_MAX_RETRIES:3}},Ke=function(e){function n(n){var t=e.call(this,n)||this;return t.validateField=function(e,n){var t=Ge[e];if(!t)return null;if(t.required&&(!n||"string"==typeof n&&!n.trim()))return"".concat(t.label," is required");if("url"===t.type&&n)try{new URL(n)}catch(e){return"Please enter a valid URL"}if("number"===t.type&&void 0!==n){var r=Number(n);if(isNaN(r))return"Please enter a valid number";if("min"in t&&void 0!==t.min&&r<t.min)return"Minimum value is ".concat(t.min);if("max"in t&&void 0!==t.max&&r>t.max)return"Maximum value is ".concat(t.max)}return null},t.validateAllFields=function(){var e={};return Object.keys(t.state.settings).forEach(function(n){var r=t.validateField(n,t.state.settings[n]);r&&(e[n]=r)}),e},t.shouldShowField=function(e){var n=Ge[e];if(!(null==n?void 0:n.dependsOn))return!0;var r=n.dependsOn,o=r.field,s=r.value;return t.state.settings[o]===s},t.handleSaveOnly=function(){return ze(t,void 0,void 0,function(){return Ve(this,function(e){switch(e.label){case 0:return[4,this.saveSettingsOnly()];case 1:return e.sent(),[2]}})})},t.handleSaveAndRestart=function(){return ze(t,void 0,void 0,function(){var e,n;return Ve(this,function(t){switch(t.label){case 0:return[4,this.saveSettingsOnly()];case 1:return t.sent()?(e=He.PLUGIN_SLUG,n=He.DEFINITION_ID,[4,this.restartPluginServices(e,n,null)]):[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.handleDismissChanges=function(){t.loadSettings(),t.setState({hasUnsavedChanges:!1,error:null,success:null,fieldErrors:{}})},t.handleInputChange=function(e){var n=e.target,r=n.name,o=n.value,s=n.type;t.setState(function(e){var t,a;a="checkbox"===s&&n instanceof HTMLInputElement?n.checked:"number"===s?""===o?0:Number(o):o;var i=Be({},e.fieldErrors);return delete i[r],{settings:Be(Be({},e.settings),(t={},t[r]=a,t)),hasUnsavedChanges:!0,fieldErrors:i}})},t.renderField=function(e){var n=Ge[e],o=t.state.settings[e],s=t.state.fieldErrors[e];if(!n||!t.shouldShowField(e))return null;var a,i="mt-1 block w-full rounded-md border shadow-sm px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat(s?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500");switch(n.type){case"select":var l=n;a=(0,r.jsxs)("select",{name:e,value:o,onChange:t.handleInputChange,className:i,children:[(0,r.jsx)("option",{value:"",children:l.placeholder||"Select option..."}),l.options.map(function(e){return(0,r.jsx)("option",{value:e,children:e},e)})]});break;case"checkbox":a=(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{id:e,name:e,type:"checkbox",checked:o,onChange:t.handleInputChange,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:e,className:"text-sm font-medium text-gray-700",children:n.label})]});break;case"password":var c=n;a=(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{name:e,type:t.state.showApiKey?"text":"password",value:o,onChange:t.handleInputChange,className:"".concat(i," pr-10"),placeholder:c.placeholder||""}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:function(){return t.setState({showApiKey:!t.state.showApiKey})},children:t.state.showApiKey?(0,r.jsx)(Te.A,{className:"h-4 w-4 text-gray-400"}):(0,r.jsx)(Le.A,{className:"h-4 w-4 text-gray-400"})})]});break;case"number":var d=n;a=(0,r.jsx)("input",{name:e,type:"number",value:o,onChange:t.handleInputChange,className:i,placeholder:d.placeholder||"",min:d.min,max:d.max});break;default:var u=n;a=(0,r.jsx)("input",{name:e,type:"url"===n.type?"url":"text",value:o,onChange:t.handleInputChange,className:i,placeholder:u.placeholder||""})}return"checkbox"===n.type?(0,r.jsxs)("div",{className:"space-y-2",children:[a,(0,r.jsxs)("p",{className:"text-xs text-gray-500 flex items-start space-x-1",children:[(0,r.jsx)(Ae.A,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{children:n.description})]}),s&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:s})]},e):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[n.label,n.required&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a,(0,r.jsxs)("p",{className:"text-xs text-gray-500 flex items-start space-x-1",children:[(0,r.jsx)(Ae.A,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{children:n.description})]}),s&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:s})]},e)},t.renderSection=function(e){var n=qe[e],o=Object.keys(Ge).filter(function(n){return Ge[n].section===e}).filter(function(e){return t.shouldShowField(e)});return 0===o.length?null:(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,r.jsx)("span",{children:n.icon}),(0,r.jsx)("span",{children:n.title})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(function(e){return t.renderField(e)})})]},e)},t.state={settings:He.DEFAULT_VALUE,isLoading:!1,isSaving:!1,isRestarting:!1,error:null,success:null,hasUnsavedChanges:!1,showApiKey:!1,fieldErrors:{},restartStatus:null},t}return Fe(n,e),n.prototype.componentDidMount=function(){return ze(this,void 0,void 0,function(){return Ve(this,function(e){switch(e.label){case 0:return[4,this.loadSettings()];case 1:return e.sent(),[2]}})})},n.prototype.componentWillUnmount=function(){this.settingsUnsubscribe&&this.settingsUnsubscribe()},n.prototype.loadSettings=function(){return ze(this,void 0,void 0,function(){var e,n,t,r,o,s,a,i,l;return Ve(this,function(c){switch(c.label){case 0:e=this.props.services,this.setState({isLoading:!0,error:null}),c.label=1;case 1:return c.trys.push([1,7,8,9]),(null===(i=e.api)||void 0===i?void 0:i.get)?(n=new URLSearchParams({definition_id:He.DEFINITION_ID,user_id:"current",scope:"user"}).toString(),t="".concat(T,"/api/v1/settings/instances?").concat(n),[4,e.api.get(t)]):[3,3];case 2:return r=c.sent(),o=null,Array.isArray(r)&&r.length>0?o=r[0].value:r&&"object"==typeof r&&null!==r&&(o=r.value),o&&("string"==typeof o&&(o=JSON.parse(o)),console.log(o),this.setState({settings:Be(Be({},He.DEFAULT_VALUE),o)})),[3,6];case 3:return(null===(l=e.settings)||void 0===l?void 0:l.getSetting)?[4,e.settings.getSetting(He.DEFINITION_ID)]:[3,5];case 4:return(s=c.sent())&&this.setState({settings:Be(Be({},He.DEFAULT_VALUE),s)}),[3,6];case 5:this.setState({error:"No service available to load settings"}),c.label=6;case 6:return[3,9];case 7:return a=c.sent(),console.error("Failed to load settings:",a),this.setState({error:"Failed to load settings"}),[3,9];case 8:return this.setState({isLoading:!1,hasUnsavedChanges:!1}),[7];case 9:return[2]}})})},n.prototype.saveSettingsOnly=function(){return ze(this,void 0,void 0,function(){var e,n,t,r,o,s,a,i,l,c,d,u=this;return Ve(this,function(h){switch(h.label){case 0:if(e=this.validateAllFields(),this.setState({fieldErrors:e}),Object.keys(e).length>0)return this.setState({error:"Please fix validation errors before saving"}),[2,!1];this.setState({isSaving:!0,error:null,success:null}),n=this.props.services,h.label=1;case 1:if(h.trys.push([1,11,,12]),!(null===(c=n.api)||void 0===c?void 0:c.post))return[3,7];t=null,h.label=2;case 2:return h.trys.push([2,4,,5]),r=new URLSearchParams({definition_id:He.DEFINITION_ID,user_id:"current",scope:"user"}).toString(),o="".concat(T,"/api/v1/settings/instances?").concat(r),[4,n.api.get(o)];case 3:return s=h.sent(),Array.isArray(s)&&s.length>0?t=s[0].id:s&&"object"==typeof s&&null!==s&&"id"in s&&(t=s.id),[3,5];case 4:return a=h.sent(),console.warn("ComponentGeneralSettings: Could not search for existing instance:",a),[3,5];case 5:return i={definition_id:He.DEFINITION_ID,value:this.state.settings,name:He.NAME,scope:"user",user_id:"current"},t&&(i.id=t),[4,n.api.post("/api/v1/settings/instances",i)];case 6:return h.sent(),[3,10];case 7:return(null===(d=n.settings)||void 0===d?void 0:d.setSetting)?[4,n.settings.setSetting(He.DEFINITION_ID,this.state.settings,{userId:"current"})]:[3,9];case 8:return h.sent(),[3,10];case 9:throw new Error("No service available to save settings");case 10:return this.setState({isSaving:!1,success:"Settings saved successfully! The microservice will restart with new configuration.",hasUnsavedChanges:!1,fieldErrors:{}}),setTimeout(function(){return u.setState({success:null})},5e3),[2,!0];case 11:return l=h.sent(),console.error("Failed to save settings:",l),this.setState({isSaving:!1,error:"Failed to save settings. Check console for details."}),[2,!1];case 12:return[2]}})})},n.prototype.restartPluginServices=function(e,n){return ze(this,arguments,void 0,function(e,n,t){var r,o,s,a,i,l,c=this;return void 0===t&&(t=null),Ve(this,function(d){switch(d.label){case 0:r=this.props.services,this.setState({isRestarting:!0,error:null,restartStatus:null}),d.label=1;case 1:return d.trys.push([1,4,,5]),(null===(l=r.api)||void 0===l?void 0:l.post)?(o={definition_id:n,user_id:"current"},t&&(o.service_name=t),s="".concat(T,"/api/v1/plugins/").concat(e,"/services/restart"),[4,r.api.post(s,o)]):[3,3];case 2:return a=d.sent(),this.setState({restartStatus:a,error:null,isRestarting:!1,success:(null==a?void 0:a.message)||"Plugin services have been restarted with the new configuration."}),console.log("Restart response:",a),setTimeout(function(){return c.setState({success:null,restartStatus:null})},5e3),[2,!0];case 3:return[3,5];case 4:return i=d.sent(),console.error("Failed to restart services::",i),this.setState({isRestarting:!1,error:"Failed to restart services:. Check console for details."}),[2,!1];case 5:return[2,!1]}})})},n.prototype.renderForm=function(){var e=this,n=this.state,t=n.isSaving,o=n.isRestarting,s=n.error,a=n.success,i=n.hasUnsavedChanges,l=t||o;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(Ae.A,{className:"h-5 w-5 text-blue-400 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:'These settings configure your document processing microservice. Use "Save & Restart" to apply changes immediately, or "Save Only" to save without restarting the service.'})]})}),Object.keys(qe).map(function(n){return e.renderSection(n)}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex-1",children:[a&&(0,r.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,r.jsx)(Ie.A,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:a})]}),s&&(0,r.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,r.jsx)(Pe.A,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:s})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,r.jsx)("span",{className:"text-sm text-orange-600 font-medium",children:"Unsaved changes"}),i&&(0,r.jsx)(Ue,{onClick:this.handleDismissChanges,disabled:l,text:"Dismiss",icon:(0,r.jsx)(ue.A,{className:"w-4 h-4 mr-2"})}),(0,r.jsx)(Ue,{onClick:this.handleSaveOnly,text:"Save Only",icon:(0,r.jsx)(Ie.A,{className:"w-4 h-4"}),isProcessing:t&&!o,disabled:!i}),(0,r.jsx)(Ue,{onClick:this.handleSaveAndRestart,text:"Save & Restart",icon:(0,r.jsx)(Re.A,{className:"w-4 h-4"}),isProcessing:l,processingText:t?"Saving...":"Restarting...",disabled:!i})]})]})]})},n.prototype.render=function(){var e=this.state,n=e.isLoading,t=e.error;return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document Processing Settings"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Configure your LLM providers, document processing, and retrieval settings"})]}),n?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)(N.A,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]}):t&&!this.state.settings?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)(k.A,{className:"h-8 w-8 text-red-500 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:t})]}):this.renderForm()]})},n}(s().Component),We=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xe=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function i(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,i)}l((r=r.apply(e,n||[])).next())})},Je=function(e,n){var t,r,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=i(0),a.throw=i(1),a.return=i(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const Ye=function(e){function n(n){var t,r=e.call(this,n)||this;return r._isMounted=!1,r.themeChangeListener=null,r.pageContextUnsubscribe=null,r.refreshInterval=null,r.apiBaseUrl=(null===(t=n.config)||void 0===t?void 0:t.apiBaseUrl)||D,r.state={currentView:w.COLLECTIONS,selectedCollection:null,selectedChatSession:null,collections:[],documents:[],chatSessions:[],chatMessages:[],loading:!1,error:null,currentTheme:"light",isInitializing:!0},r.loadCollections=r.loadCollections.bind(r),r.loadDocuments=r.loadDocuments.bind(r),r.loadChatSessions=r.loadChatSessions.bind(r),r.loadChatMessages=r.loadChatMessages.bind(r),r.handleViewChange=r.handleViewChange.bind(r),r.handleCollectionSelect=r.handleCollectionSelect.bind(r),r.handleChatSessionSelect=r.handleChatSessionSelect.bind(r),r.handleBack=r.handleBack.bind(r),r}return We(n,e),n.prototype.componentDidMount=function(){return Xe(this,void 0,void 0,function(){var e;return Je(this,function(n){switch(n.label){case 0:this._isMounted=!0,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this.initializeServices()];case 2:return n.sent(),[4,this.loadInitialData()];case 3:return n.sent(),this.setState({isInitializing:!1}),[3,5];case 4:return e=n.sent(),console.error("ChatCollectionsPlugin: Failed to initialize:",e),this.setState({error:"Failed to initialize plugin",isInitializing:!1}),[3,5];case 5:return[2]}})})},n.prototype.componentWillUnmount=function(){this._isMounted=!1,this.cleanupServices()},n.prototype.componentDidUpdate=function(e,n){var t,r;this.state.selectedCollection&&(null===(t=n.selectedCollection)||void 0===t?void 0:t.id)!==this.state.selectedCollection.id&&(this.loadDocuments(this.state.selectedCollection.id),this.loadChatSessions()),this.state.selectedChatSession&&(null===(r=n.selectedChatSession)||void 0===r?void 0:r.id)!==this.state.selectedChatSession.id&&this.loadChatMessages(this.state.selectedChatSession.id)},n.prototype.initializeServices=function(){return Xe(this,void 0,void 0,function(){var e,n,t,r,o=this;return Je(this,function(s){return(e=this.props.services).theme&&(n=e.theme.getCurrentTheme(),this.setState({currentTheme:n}),this.themeChangeListener=function(e){o.setState({currentTheme:e})},e.theme.addThemeChangeListener(this.themeChangeListener)),e.pageContext&&(this.pageContextUnsubscribe=e.pageContext.onPageContextChange(function(e){console.log("ChatCollectionsPlugin: Page context changed:",e)})),(t=null===(r=this.props.config)||void 0===r?void 0:r.refreshInterval)&&t>0&&(this.refreshInterval=setInterval(function(){o.refreshData()},1e3*t)),[2]})})},n.prototype.cleanupServices=function(){var e=this.props.services;e.theme&&this.themeChangeListener&&e.theme.removeThemeChangeListener(this.themeChangeListener),this.pageContextUnsubscribe&&this.pageContextUnsubscribe(),this.refreshInterval&&clearInterval(this.refreshInterval)},n.prototype.loadInitialData=function(){return Xe(this,void 0,void 0,function(){var e;return Je(this,function(n){switch(n.label){case 0:this.setState({loading:!0,error:null}),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.loadCollections()];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),console.error("ChatCollectionsPlugin: Failed to load initial data:",e),this.setState({error:"Failed to load initial data"}),[3,5];case 4:return this.setState({loading:!1}),[7];case 5:return[2]}})})},n.prototype.refreshData=function(){return Xe(this,void 0,void 0,function(){var e;return Je(this,function(n){switch(n.label){case 0:if(this.state.loading)return[2];n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this.loadCollections()];case 2:return n.sent(),this.state.selectedCollection?[4,this.loadDocuments(this.state.selectedCollection.id)]:[3,5];case 3:return n.sent(),[4,this.loadChatSessions()];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:return e=n.sent(),console.error("ChatCollectionsPlugin: Failed to refresh data:",e),[3,7];case 7:return[2]}})})},n.prototype.handleCollectionCreated=function(e){this.loadCollections()},n.prototype.handleDocumentUploaded=function(e){this.state.selectedCollection&&this.loadDocuments(this.state.selectedCollection.id)},n.prototype.handleChatMessageSent=function(e){this.state.selectedChatSession&&this.loadChatMessages(this.state.selectedChatSession.id)},n.prototype.getPluginInfo=function(){return{name:"ChatCollectionsPlugin",version:"1.0.0",status:"initialized",apiBaseUrl:this.apiBaseUrl,hasServices:{api:!!this.props.services.api,theme:!!this.props.services.theme,settings:!!this.props.services.settings,pageContext:!!this.props.services.pageContext},currentState:{currentView:this.state.currentView,collectionsCount:this.state.collections.length,hasSelectedCollection:!!this.state.selectedCollection,isLoading:this.state.loading,hasError:!!this.state.error,theme:this.state.currentTheme,isInitializing:this.state.isInitializing},timestamp:(new Date).toISOString()}},n.prototype.loadCollections=function(){return Xe(this,void 0,void 0,function(){var e,n,t,r;return Je(this,function(o){switch(o.label){case 0:if(!this._isMounted&&!this.state)return[2];o.label=1;case 1:return o.trys.push([1,7,,8]),e=this.props.services,n=void 0,e.api?[4,e.api.get("".concat(this.apiBaseUrl,"/collections/"))]:[3,3];case 2:return n=o.sent(),[3,6];case 3:return[4,fetch("".concat(this.apiBaseUrl,"/collections/"))];case 4:if(!(t=o.sent()).ok)throw new Error("Failed to load collections");return[4,t.json()];case 5:n=o.sent(),o.label=6;case 6:return this.setState({collections:n}),[3,8];case 7:return r=o.sent(),this.setState({error:r.message}),[3,8];case 8:return[2]}})})},n.prototype.loadDocuments=function(e){return Xe(this,void 0,void 0,function(){var n,t,r,o;return Je(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),n=this.props.services,t=void 0,n.api?[4,n.api.get("".concat(this.apiBaseUrl,"/documents/?collection_id=").concat(e))]:[3,2];case 1:return t=s.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/documents/?collection_id=").concat(e))];case 3:if(!(r=s.sent()).ok)throw new Error("Failed to load documents");return[4,r.json()];case 4:t=s.sent(),s.label=5;case 5:return this.setState({documents:t}),[3,7];case 6:return o=s.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},n.prototype.loadChatSessions=function(){return Xe(this,void 0,void 0,function(){var e,n,t,r,o,s=this;return Je(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),e=this.props.services,n=void 0,e.api?[4,e.api.get("".concat(this.apiBaseUrl,"/chat/sessions"))]:[3,2];case 1:return n=a.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/chat/sessions"))];case 3:if(!(t=a.sent()).ok)throw new Error("Failed to load chat sessions");return[4,t.json()];case 4:n=a.sent(),a.label=5;case 5:return r=n.filter(function(e){var n;return e.collection_id===(null===(n=s.state.selectedCollection)||void 0===n?void 0:n.id)}),this.setState({chatSessions:r}),[3,7];case 6:return o=a.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},n.prototype.loadChatMessages=function(e){return Xe(this,void 0,void 0,function(){var n,t,r,o;return Je(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),n=this.props.services,t=void 0,n.api?[4,n.api.get("".concat(this.apiBaseUrl,"/chat/messages?session_id=").concat(e))]:[3,2];case 1:return t=s.sent(),[3,5];case 2:return[4,fetch("".concat(this.apiBaseUrl,"/chat/messages?session_id=").concat(e))];case 3:if(!(r=s.sent()).ok)throw new Error("Failed to load messages");return[4,r.json()];case 4:t=s.sent(),s.label=5;case 5:return this.setState({chatMessages:t}),[3,7];case 6:return o=s.sent(),this.setState({error:o.message}),[3,7];case 7:return[2]}})})},n.prototype.handleViewChange=function(e){this.setState({currentView:e,error:null})},n.prototype.handleCollectionSelect=function(e){this.setState({selectedCollection:e,selectedChatSession:null,chatMessages:[],currentView:this.state.currentView===w.COLLECTIONS?w.DOCUMENTS:this.state.currentView})},n.prototype.handleChatSessionSelect=function(e){return Xe(this,void 0,void 0,function(){return Je(this,function(n){return e&&(this.setState({selectedChatSession:e}),this.loadChatMessages(e.id)),[2]})})},n.prototype.handleBack=function(){var e=this.state.currentView;e===w.CHAT?this.setState({currentView:w.DOCUMENTS,selectedChatSession:null,chatMessages:[]}):(e===w.DOCUMENTS||e===w.SETTINGS)&&this.setState({currentView:w.COLLECTIONS,selectedCollection:null,documents:[],chatSessions:[]})},n.prototype.renderLoading=function(){return(0,r.jsxs)("div",{className:"plugin-template-loading",children:[(0,r.jsx)("div",{className:"loading-spinner",children:(0,r.jsx)(N.A,{className:"h-8 w-8 animate-spin"})}),(0,r.jsx)("p",{children:"Loading Chat Collections..."})]})},n.prototype.renderError=function(){var e=this;return(0,r.jsxs)("div",{className:"plugin-template-error",children:[(0,r.jsx)("div",{className:"error-icon",children:(0,r.jsx)(k.A,{className:"h-8 w-8 text-red-500"})}),(0,r.jsx)("p",{children:this.state.error}),(0,r.jsx)("button",{onClick:function(){return e.setState({error:null})},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})},n.prototype.renderContent=function(){var e=this,n=this.state,t=n.currentView,o=n.selectedCollection,s=n.selectedChatSession,a=n.collections,i=n.documents,l=n.chatSessions,c=n.chatMessages,d=n.error,u=this.props.services;return(0,r.jsxs)("div",{className:"chat-collections-plugin-content",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[t!==w.COLLECTIONS&&(0,r.jsxs)("button",{onClick:this.handleBack,className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(E.A,{className:"h-5 w-5 mr-2"}),"Back"]}),(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[t===w.COLLECTIONS&&"Collections",t===w.DOCUMENTS&&"Documents - ".concat(null==o?void 0:o.name),t===w.CHAT&&"Chat - ".concat(null==s?void 0:s.name),t===w.SETTINGS&&"Plugin Settings"]})]}),t!==w.SETTINGS&&(0,r.jsx)("button",{onClick:function(){return e.handleViewChange(w.SETTINGS)},className:"p-2 rounded-full text-gray-600 hover:bg-gray-100",title:"Settings",children:(0,r.jsx)(_.A,{className:"w-5 h-5"})}),o&&(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:function(){return e.handleViewChange(w.DOCUMENTS)},className:"px-4 py-2 rounded-lg font-medium transition-colors hidden ".concat(t===w.DOCUMENTS?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)(O.A,{className:"h-4 w-4 inline mr-2"}),"Documents"]}),(0,r.jsxs)("button",{onClick:function(){return e.handleViewChange(w.CHAT)},className:"px-4 py-2 rounded-lg font-medium transition-colors hidden ".concat(t===w.CHAT?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)(M.A,{className:"h-4 w-4 inline mr-2"}),"Chat"]}),(0,r.jsx)(De,{collectionId:o.id,onSessionCreated:this.handleChatSessionSelect,onError:function(e){return console.error(e)},buttonText:"New Chat",placeholder:"Session name"})]})]})})}),d&&(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[(0,r.jsx)(k.A,{className:"h-5 w-5 text-red-500 mr-3"}),(0,r.jsx)("span",{className:"text-red-700",children:d}),(0,r.jsx)("button",{onClick:function(){return e.setState({error:null})},className:"ml-auto text-red-500 hover:text-red-700",children:"×"})]})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[t===w.COLLECTIONS&&(0,r.jsx)(de,{collections:a,onCollectionSelect:this.handleCollectionSelect,onCollectionCreate:this.loadCollections,setError:function(n){return e.setState({error:n})}}),t===w.DOCUMENTS&&o&&(0,r.jsx)(Oe,{collection:o,selectedSession:s,documents:i,chatSessions:l,apiService:this.props.services.api,onDocumentUpload:function(){return e.loadDocuments(o.id)},onDocumentDelete:function(){return e.loadDocuments(o.id)},onChatSessionCreate:this.loadChatSessions,onChatSessionSelect:this.handleChatSessionSelect,onChatSessionDelete:this.loadChatSessions,setError:function(n){return e.setState({error:n})}}),t===w.CHAT&&s&&(0,r.jsx)(J,{session:s,apiService:this.props.services.api,messages:c,onMessageSent:function(){return e.loadChatMessages(s.id)},setError:function(n){return e.setState({error:n})}}),t===w.SETTINGS&&(0,r.jsx)(Ke,{services:u})]})]})},n.prototype.render=function(){var e=this.state,n=e.currentTheme,t=e.isInitializing,o=e.error;return(0,r.jsx)("div",{className:"plugin-template chat-collections-plugin ".concat("dark"===n?"dark-theme":""),children:t?this.renderLoading():o&&!this.state.collections.length?this.renderError():this.renderContent()})},n}(s().Component);var Qe="1.0.0",Ze={name:"ChatWithYourDocuments",description:"A chat with your documents BrainDrive Plugin, requires to run chat with your documents",version:"1.0.0",author:"BrainDrive"}},6613:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(1601),o=t.n(r),s=t(6314),a=t.n(s)()(o());a.push([e.id,'/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-sm: 24rem;\n    --container-2xl: 42rem;\n    --container-4xl: 56rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-2xl: 1rem;\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --blur-sm: 8px;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .pointer-events-auto {\n    pointer-events: auto;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .-top-2 {\n    top: calc(var(--spacing) * -2);\n  }\n  .top-full {\n    top: 100%;\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-4 {\n    right: calc(var(--spacing) * 4);\n  }\n  .bottom-8 {\n    bottom: calc(var(--spacing) * 8);\n  }\n  .z-40 {\n    z-index: 40;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-100 {\n    z-index: 100;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .mx-auto {\n    margin-inline: auto;\n  }\n  .mt-0 {\n    margin-top: calc(var(--spacing) * 0);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-6 {\n    margin-top: calc(var(--spacing) * 6);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-3 {\n    margin-right: calc(var(--spacing) * 3);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .mb-8 {\n    margin-bottom: calc(var(--spacing) * 8);\n  }\n  .-ml-0 {\n    margin-left: calc(var(--spacing) * -0);\n  }\n  .-ml-0\\.5 {\n    margin-left: calc(var(--spacing) * -0.5);\n  }\n  .ml-1 {\n    margin-left: calc(var(--spacing) * 1);\n  }\n  .ml-2 {\n    margin-left: calc(var(--spacing) * 2);\n  }\n  .ml-4 {\n    margin-left: calc(var(--spacing) * 4);\n  }\n  .ml-auto {\n    margin-left: auto;\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-10 {\n    height: calc(var(--spacing) * 10);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-\\[600px\\] {\n    height: 600px;\n  }\n  .h-\\[700px\\] {\n    height: 700px;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-96 {\n    max-height: calc(var(--spacing) * 96);\n  }\n  .min-h-screen {\n    min-height: 100vh;\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-20 {\n    width: calc(var(--spacing) * 20);\n  }\n  .w-80 {\n    width: calc(var(--spacing) * 80);\n  }\n  .w-\\[85\\%\\] {\n    width: 85%;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-2xl {\n    max-width: var(--container-2xl);\n  }\n  .max-w-4xl {\n    max-width: var(--container-4xl);\n  }\n  .max-w-7xl {\n    max-width: var(--container-7xl);\n  }\n  .max-w-sm {\n    max-width: var(--container-sm);\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .border-collapse {\n    border-collapse: collapse;\n  }\n  .translate-x-full {\n    --tw-translate-x: 100%;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .rotate-45 {\n    rotate: 45deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .resize {\n    resize: both;\n  }\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .justify-start {\n    justify-content: flex-start;\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-6 {\n    gap: calc(var(--spacing) * 6);\n  }\n  .space-y-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-x-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 1) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .divide-y {\n    :where(& > :not(:last-child)) {\n      --tw-divide-y-reverse: 0;\n      border-bottom-style: var(--tw-border-style);\n      border-top-style: var(--tw-border-style);\n      border-top-width: calc(1px * var(--tw-divide-y-reverse));\n      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n    }\n  }\n  .divide-gray-200 {\n    :where(& > :not(:last-child)) {\n      border-color: var(--color-gray-200);\n    }\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-x-hidden {\n    overflow-x: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-2xl {\n    border-radius: var(--radius-2xl);\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-l {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 1px;\n  }\n  .border-l-4 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 4px;\n  }\n  .border-blue-400 {\n    border-color: var(--color-blue-400);\n  }\n  .border-blue-600 {\n    border-color: var(--color-blue-600);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-red-200 {\n    border-color: var(--color-red-200);\n  }\n  .border-red-300 {\n    border-color: var(--color-red-300);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .bg-black {\n    background-color: var(--color-black);\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-100 {\n    background-color: var(--color-blue-100);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-blue-600 {\n    background-color: var(--color-blue-600);\n  }\n  .bg-gray-50 {\n    background-color: var(--color-gray-50);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-300 {\n    background-color: var(--color-gray-300);\n  }\n  .bg-gray-400 {\n    background-color: var(--color-gray-400);\n  }\n  .bg-green-100 {\n    background-color: var(--color-green-100);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-green-600 {\n    background-color: var(--color-green-600);\n  }\n  .bg-red-50 {\n    background-color: var(--color-red-50);\n  }\n  .bg-red-100 {\n    background-color: var(--color-red-100);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-yellow-100 {\n    background-color: var(--color-yellow-100);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-2\\.5 {\n    padding-inline: calc(var(--spacing) * 2.5);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-0 {\n    padding-block: calc(var(--spacing) * 0);\n  }\n  .py-0\\.5 {\n    padding-block: calc(var(--spacing) * 0.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .py-6 {\n    padding-block: calc(var(--spacing) * 6);\n  }\n  .py-8 {\n    padding-block: calc(var(--spacing) * 8);\n  }\n  .py-12 {\n    padding-block: calc(var(--spacing) * 12);\n  }\n  .pt-6 {\n    padding-top: calc(var(--spacing) * 6);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-10 {\n    padding-right: calc(var(--spacing) * 10);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-2xl {\n    font-size: var(--text-2xl);\n    line-height: var(--tw-leading, var(--text-2xl--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xl {\n    font-size: var(--text-xl);\n    line-height: var(--tw-leading, var(--text-xl--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .leading-6 {\n    --tw-leading: calc(var(--spacing) * 6);\n    line-height: calc(var(--spacing) * 6);\n  }\n  .leading-none {\n    --tw-leading: 1;\n    line-height: 1;\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .break-words {\n    overflow-wrap: break-word;\n  }\n  .text-blue-400 {\n    color: var(--color-blue-400);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-600 {\n    color: var(--color-blue-600);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-gray-300 {\n    color: var(--color-gray-300);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-green-500 {\n    color: var(--color-green-500);\n  }\n  .text-green-600 {\n    color: var(--color-green-600);\n  }\n  .text-green-800 {\n    color: var(--color-green-800);\n  }\n  .text-orange-600 {\n    color: var(--color-orange-600);\n  }\n  .text-red-500 {\n    color: var(--color-red-500);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-red-700 {\n    color: var(--color-red-700);\n  }\n  .text-red-800 {\n    color: var(--color-red-800);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .text-yellow-600 {\n    color: var(--color-yellow-600);\n  }\n  .text-yellow-800 {\n    color: var(--color-yellow-800);\n  }\n  .capitalize {\n    text-transform: capitalize;\n  }\n  .lowercase {\n    text-transform: lowercase;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-25 {\n    opacity: 25%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xl {\n    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .backdrop-blur-sm {\n    --tw-backdrop-blur: blur(var(--blur-sm));\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .backdrop-filter {\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter, display, visibility, content-visibility, overlay, pointer-events;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-shadow {\n    transition-property: box-shadow;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .group-hover\\:opacity-100 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        opacity: 100%;\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-blue-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-700);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-gray-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-300);\n      }\n    }\n  }\n  .hover\\:bg-gray-400 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-400);\n      }\n    }\n  }\n  .hover\\:bg-green-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-green-700);\n      }\n    }\n  }\n  .hover\\:text-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:text-gray-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-600);\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-gray-900 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-900);\n      }\n    }\n  }\n  .hover\\:text-red-500 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-500);\n      }\n    }\n  }\n  .hover\\:text-red-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-600);\n      }\n    }\n  }\n  .hover\\:text-red-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-red-700);\n      }\n    }\n  }\n  .hover\\:shadow-md {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-sm {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .focus\\:border-blue-500 {\n    &:focus {\n      border-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:border-red-500 {\n    &:focus {\n      border-color: var(--color-red-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-blue-500 {\n    &:focus {\n      --tw-ring-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:ring-gray-500 {\n    &:focus {\n      --tw-ring-color: var(--color-gray-500);\n    }\n  }\n  .focus\\:ring-green-500 {\n    &:focus {\n      --tw-ring-color: var(--color-green-500);\n    }\n  }\n  .focus\\:ring-offset-2 {\n    &:focus {\n      --tw-ring-offset-width: 2px;\n      --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .sm\\:px-6 {\n    @media (width >= 40rem) {\n      padding-inline: calc(var(--spacing) * 6);\n    }\n  }\n  .md\\:grid-cols-2 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .lg\\:grid-cols-3 {\n    @media (width >= 64rem) {\n      grid-template-columns: repeat(3, minmax(0, 1fr));\n    }\n  }\n}\n:root {\n  --plugin-bg-color: #ffffff;\n  --plugin-text-color: #333333;\n  --plugin-secondary-text: #666666;\n  --plugin-border-color: rgba(0, 0, 0, 0.12);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  --plugin-error-bg: #fee2e2;\n  --plugin-error-text: #b91c1c;\n  --plugin-button-bg: #4299e1;\n  --plugin-button-hover-bg: #3182ce;\n  --plugin-button-text: #ffffff;\n}\n.dark-theme {\n  --plugin-bg-color: #1e293b;\n  --plugin-text-color: #f8fafc;\n  --plugin-secondary-text: #cbd5e1;\n  --plugin-border-color: rgba(30, 41, 59, 0.8);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  --plugin-error-bg: #450a0a;\n  --plugin-error-text: #fecaca;\n  --plugin-button-bg: #3b82f6;\n  --plugin-button-hover-bg: #2563eb;\n  --plugin-button-text: #ffffff;\n}\n.plugin-template {\n  background-color: var(--plugin-bg-color);\n  color: var(--plugin-text-color);\n  border-radius: 8px;\n  padding: 20px;\n  margin: 10px 0;\n  box-shadow: var(--plugin-card-shadow);\n  transition: all 0.3s ease;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n}\n.plugin-template-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n.loading-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--plugin-border-color);\n  border-top: 3px solid var(--plugin-button-bg);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 16px;\n}\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.plugin-template-loading p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  transition: color 0.3s ease;\n}\n.plugin-template-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n.error-icon {\n  font-size: 32px;\n  margin-bottom: 16px;\n}\n.plugin-template-error p {\n  margin: 0;\n  color: var(--plugin-error-text);\n  background-color: var(--plugin-error-bg);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n.plugin-template-content {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n.plugin-header {\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--plugin-border-color);\n  transition: border-color 0.3s ease;\n}\n.plugin-header h3 {\n  margin: 0 0 8px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n.plugin-header p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  font-size: 14px;\n  transition: color 0.3s ease;\n}\n.plugin-info {\n  background-color: var(--plugin-bg-color);\n  border: 1px solid var(--plugin-border-color);\n  border-radius: 8px;\n  padding: 20px;\n  transition: all 0.3s ease;\n}\n.plugin-info h4 {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n.info-grid {\n  display: grid;\n  gap: 16px;\n}\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.info-item strong {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n.info-item ul {\n  margin: 4px 0 0 0;\n  padding-left: 20px;\n  list-style: none;\n}\n.info-item li {\n  font-size: 14px;\n  color: var(--plugin-secondary-text);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n}\n@media (max-width: 768px) {\n  .plugin-template {\n    padding: 16px;\n    margin: 8px 0;\n  }\n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n@media (prefers-contrast: high) {\n  .plugin-template {\n    border: 2px solid var(--plugin-text-color);\n  }\n}\n@media (prefers-reduced-motion: reduce) {\n  .plugin-template,\n  .plugin-header,\n  .plugin-info,\n  .info-item strong,\n  .info-item li,\n  .plugin-template-loading p {\n    transition: none;\n  }\n  .loading-spinner {\n    animation: none;\n  }\n}\n.chat-session-item:hover .delete-session-btn {\n  opacity: 100%;\n}\n.delete-session-btn {\n  transition-property: opacity;\n  transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n  transition-duration: var(--tw-duration, var(--default-transition-duration));\n  --tw-duration: 200ms;\n  transition-duration: 200ms;\n}\n.delete-session-btn {\n  transition: all 0.2s ease-in-out;\n}\n.chat-session-item:hover .delete-session-btn {\n  opacity: 1;\n}\n.delete-session-btn {\n  transition: all 0.2s ease-in-out;\n}\n.chat-session-item:hover .delete-session-btn {\n  opacity: 1;\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-divide-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-space-y-reverse: 0;\n      --tw-space-x-reverse: 0;\n      --tw-divide-y-reverse: 0;\n      --tw-border-style: solid;\n      --tw-leading: initial;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n    }\n  }\n}',""]);const i=a}}]);